% !TeX root = README.tex

\section{Step-by-Step Instructions}

\subsection{Benchmark Suite}

The artifact contains twenty-eight benchmark programs as listed in Table~1 of the paper.
%
To obtain these programs, we have modified the benchmark programs from the prior
work~\citep{PLDI:WHR21B} by sequentially composing multiple guide coroutines,
each of which updates a different subset/block of random variables.
%
Each benchmark has its own subdirectory inside the directory
\texttt{GuideTypes/bench/coverage-check}.

A benchmark's subdirectory contains two files: one for the covered version and
another for the uncovered version of the benchmark.
%
In the covered version, the random variables are freshly sampled in such a way
that every random variable is sampled by at least one guide coroutine in all
execution paths; that is, all random variables are ``covered.''
%
Meanwhile, in the uncovered version, not all random variables are freshly
sampled in some execution path.
%
Both versions have the same code structure---they only differ in whether, for
each individual random variable, we freshly sample it or reuse an old value from
the previous trace.

\subsection{Guide-Type Inference}

To produce the fifth column in Table~1 for the analysis time of guide-type
inference, in the directory \texttt{GuideTypes/bench/coverage-check}, run
\begin{verbatim}
# python3 type_inference_table_result.py 
\end{verbatim}
%
It runs the command \texttt{dune exec gtypes type-check} (\cref{sec:Guide-Type
Inference}) for the covered version of each benchmark program.
%
We do not need to infer guide types for the uncovered version of the programs,
because it has the same code structure as the covered version.
%
The command prints out a table of the form
\begin{verbatim}
Name                       Path                                        LOC  Check Time
-------------------------  ----------------------------------------  -----  ------------
branching                  branching/branching-covered                  46  1.502157ms
...
recur-covered-misaligned   recursive/recur/recur-covered-misaligned     83  16.431207ms
\end{verbatim}

Additionally, the command writes out the type-inference results of all
benchmarks to a log file
\texttt{GuideTypes/bench/coverage-check/table-type-inference.log}.
%
To transfer it from the Docker container to your local machine, run the
following command on the local machine's terminal:
\begin{verbatim}
$ docker cp guide_types:/home/GuideTypes/bench/coverage-check/table-type-inference.log\
<path-to-local-directory>
\end{verbatim}

\subsection{Coverage Checking}


